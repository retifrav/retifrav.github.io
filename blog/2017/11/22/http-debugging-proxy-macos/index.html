<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>HTTP debugging proxy on Mac OS | Declaration of VAR</title>
    <link rel="canonical" href="https://decovar.dev/blog/2017/11/22/http-debugging-proxy-macos/" />

    <meta name="generator" content="Hugo 0.88.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="/favicon.png" rel="icon">

    <meta name="author" content="retif" />
    <meta name="description" content="" />

    <link rel="alternate" type="application/rss+xml" href="/index.xml" title="Declaration of VAR" />

    <meta property="og:title" content="HTTP debugging proxy on Mac OS" />
<meta property="og:description" content="When I was on Windows, I was using Fiddler as a HTTP debugging proxy. After I moved to Mac, I started to look for an alternative.



    " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://retifrav.github.io/blog/2017/11/22/http-debugging-proxy-macos/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2017-11-22T09:27:08+01:00" />
<meta property="article:modified_time" content="2017-11-22T09:27:08+01:00" />



    <link rel="stylesheet" href="https://retifrav.github.io/css/main.min.c1a9d5434fbba746ef09ebde219b0064b5d4318930fc8463f51550f13a0e1b54.css" />
    <link rel="stylesheet" href="/css/default.css" />
    <link rel="stylesheet" href="/css/post.css" />
    <link rel="stylesheet" href="/css/page.css" />
    <link rel="stylesheet" href="/css/comments.css" />

    <script src="/js/mark.js"></script>

    
    
  </head>
  <body>
    <div id="body-hat">
      <div id="title-block">
        <h1 id="blog-title"><a href="/">Declaration of VAR</a></h1>
        <p>and some other stuff</p>
      </div>
    </div>
    <div style="background-color:orange; padding:4px 16px; font-size:0.8em; text-align:center; font-style:italic;">
        On 19.05.2021 the website was moved to
        <a href="https://decovar.dev/blog/2017/11/22/http-debugging-proxy-macos/" style="color:black; font-weight:bold;">
            https://decovar.dev/</a>. This is just a mirror now.
    </div>
    <div id="body-flex">
      <main class="app-container">
        
  <div id="main-container">
    <article class="post">
      <header class="post-header">
        <h1 class ="post-title">HTTP debugging proxy on Mac OS</h1>
        <div class="post-meta">
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg> 2017-11-22 09:27:08 &#43;0100</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg> 5 min read</div>
        </div>
      </header>
      <div class="post-content">
        <p>When I was on Windows, I was using <a href="https://www.telerik.com/fiddler">Fiddler</a> as a HTTP debugging proxy. After I moved to Mac, I started to look for an alternative.</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-preview.png" alt="Proxie packet view">


<p><a href="https://www.telerik.com/blogs/introducing-fiddler-for-os-x-beta-1">There are ways</a> to make Fiddler work on Mac too, but it didn&rsquo;t work for me on a first try, and I didn&rsquo;t want to dive deeper. Besides, I wanted to get some nice-looking and natively-performant Mac OS app.</p>
<p>So, I started looking. Soon enough I found these questions at Stack Exchange:</p>
<ol>
<li><a href="https://superuser.com/questions/42813/looking-for-http-debugging-proxy-for-mac-similar-to-fiddler-on-windows">Looking for HTTP debugging proxy for Mac similar to Fiddler on Windows</a>;</li>
<li><a href="https://stackoverflow.com/questions/1680381/are-there-any-http-https-interception-tools-like-fiddler-for-mac-os-x">Are there any HTTP/HTTPS interception tools like Fiddler for mac OS X?</a>;</li>
<li><a href="https://stackoverflow.com/questions/1617536/http-debugging-proxy-for-linux-and-mac">HTTP debugging proxy for Linux and Mac</a>.</li>
</ol>
<p>From those I got to know <a href="https://www.charlesproxy.com">Charles</a>, which trial version I installed immediately. Well, what can I say: it gets the job done, but it feels uncomfortably slow and weights too much for such an application. And when I discovered, that it is Java-based, I had no more questions in that regard. On top of that it costs $50 per license, which is just too expensive.</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#meet-proxie">Meet Proxie</a></li>
    <li><a href="#sniffing-traffic">Sniffing traffic</a>
      <ul>
        <li><a href="#from-the-same-mac-os-machine">From the same Mac OS machine</a></li>
        <li><a href="#from-iphone">From iPhone</a></li>
      </ul>
    </li>
  </ul>
</nav>
<h1 id="meet-proxie">Meet Proxie</h1>
<p>I didn&rsquo;t find any good alternatives to Charles, so I started to getting upset (and preparing $50), but then on <a href="https://alternativeto.net/software/fiddler/?platform=mac">this website</a> I discovered <a href="https://itunes.apple.com/us/app/cellist-http-debugging-proxy/id897814548">Proxie</a>. Actually, there it is named as <a href="https://alternativeto.net/software/cellist/">Cellist</a> (apparently, that&rsquo;s its former name).</p>
<p>And this is exactly the application I was looking for:</p>
<ul>
<li>HTTP debugging proxy, that works with HTTPS too;</li>
<li>pretty light-weight and natively-performant;</li>
<li>nice-looking;</li>
<li>costs only $10.</li>
</ul>
<p>Here&rsquo;s a screenshot:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie.png" alt="Proxie">


<p>Very conveniently organised, you can view packets grouped by URL, view packets by types, and also you can create your own grouping filters:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-filters.png" alt="Proxie filters">


<p>It is a bit unfortunate though, that Proxie does not have a trial period, so I had to download a cracked version from a warez tracker to try it out. And only after I made sure, that it has all the functionality I needed, I deleted it and purchased the application from App Store:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-receipt.png" alt="App Store receipt">


<p>Okay, now about how to use it.</p>
<h1 id="sniffing-traffic">Sniffing traffic</h1>
<h2 id="from-the-same-mac-os-machine">From the same Mac OS machine</h2>
<p>When you launch Proxie, it starts to listen to your localhost&rsquo;s specified port, as it is shown on the top of the application&rsquo;s window. And you need to set-up this proxy in your network settings, so all of your applications would send their traffic through it.</p>
<p>Open Mac OS network preferences, choose the network (<code>Wi-Fi</code> in my case) and click <code>Advanced</code>:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/macos-network.png" alt="Mac OS network settings">


<p>Despite the fact that Proxie shows your network address, it&rsquo;s better to use the old good <code>127.0.0.1</code> (and the port that Proxie listens to). Do it for both <code>Web Proxy</code> and <code>Secure Web Proxy</code>:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/macos-network-proxy.png" alt="Mac OS network settings, proxy">


<p>Note, that Proxie does not do it by itself. Neither does it set the proxy settings off on exit, meaning that when you&rsquo;re done with HTTP debugging, you need to go there (system network preferences) again and uncheck both <code>Web Proxy</code> and <code>Secure Web Proxy</code> checkboxes.</p>
<p>Now you need to install the Proxie&rsquo;s certificate into your system (implementing <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle</a>). If you won&rsquo;t do that, Proxie won&rsquo;t be able to properly sniff encrypted HTTPS packets.</p>
<p>Go to the Proxie settings, mark the <code>decryption</code> checkbox and export certificate:</p>
<p>


    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/http-debugging-proxie-https.png" alt="Proxie, HTTPS settings">


<br/>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-https-export.png" alt="Proxie, export certificate">

</p>
<p>Find the exported <code>proxie-ca.pem</code>, double-click it, and add it to your keychain:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/macos-certificate-import.png" alt="Mac OS, certificate import">


<p>Now open <code>Keychain Access.app</code>, find this certificate in the list, double-click it and make it trusted:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/macos-certificate-trust.png" alt="Mac OS, certificate trust">


<p>Now you can inspect your packets (including HTTPS ones) in Proxie.</p>
<p><strong>But.</strong></p>
<p>Not every application (especially Terminal apps) respects system proxy settings. So, if you don&rsquo;t see packets from your application in Proxie, that means that your application is one of those, and you need to specify proxy settings for it manually (in its config, source code, etc).</p>
<p>For example, I am testing some .NET Core application in Visual Studio Code. So, in order to make it using proxy, I need to do this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp"><span style="color:#66d9ef">var</span> httpClientHandler = <span style="color:#66d9ef">new</span> HttpClientHandler
{
    Proxy = <span style="color:#66d9ef">new</span> WebProxy(<span style="color:#e6db74">&#34;http://127.0.0.1:4321&#34;</span>, <span style="color:#66d9ef">false</span>),
    UseProxy = <span style="color:#66d9ef">true</span>
};
<span style="color:#66d9ef">using</span> (<span style="color:#66d9ef">var</span> http = <span style="color:#66d9ef">new</span> HttpClient(httpClientHandler))
{
    <span style="color:#75715e">// your HTTP request here
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//var httpResponse = await http.PostAsync(URL, content);
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//var responseBody = await httpResponse.Content.ReadAsStringAsync();
</span><span style="color:#75715e"></span>}</code></pre></div>
<h2 id="from-iphone">From iPhone</h2>
<p>&hellip;Or any other device in your local network. This is already described in the Proxie documentation pages (<strong>Help</strong> -&gt; <strong>About HTTP Decryption</strong>), but I&rsquo;ll add my comments anyway.</p>
<p>So, in case of an iPhone you need to:</p>
<ol>
<li>Set-up a proxy in your iPhone Wi-Fi settings;</li>
<li>Add a Proxie certificate to your iPhone and make it trusted.</li>
</ol>
<p>Logically enough, there is no need to enable proxy in Mac OS network preferences.</p>
<p>First one is easy, go to <strong>Settings</strong> -&gt; <strong>Wi-Fi</strong> -&gt; Click on the blue circled <code>i</code> on your current network -&gt; <strong>Configure Proxy</strong> -&gt; <strong>Manual</strong>:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/ios-proxy.png" alt="iOS configure proxy">


<p>Then open this URL (<code>sslca.io</code>) in browser on your iPhone and install Proxie&rsquo;s certificate:</p>
<p>


    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-certificate.png" alt="Proxie certificate">


<br/>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-certificate-install.png" alt="Proxie certificate install">

</p>
<p>And finally go to your iPhone <strong>Settings</strong> -&gt; <strong>General</strong> -&gt; <strong>About</strong> -&gt; <strong>Certificate Trust Settings</strong> and enable <code>Proxie CA</code>:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/proxie-certificate-trust.png" alt="Proxie certificate trust">


<p>Now you will see the traffic from your iPhone coming through Proxie on your Mac:</p>



    <img class="image-post" src="/blog/2017/11/22/http-debugging-proxy-macos/images/iphone-instagram-traffic-sniffed.png" alt="iPhone Instagram traffic sniffed">


<p>Awesome.</p>
<p>Weird enough though, that AppStore refuses to connect even with the trusted certificate, whilst other applications work just fine. But that&rsquo;s okay, because it&rsquo;s not the AppStore&rsquo;s traffic I was after, as you can see.</p>
<p>When you&rsquo;re done debugging, don&rsquo;t forget to disable proxy settings and &ldquo;untrust&rdquo; the Proxie certificate (just in case).</p>



<hr class="updates-divider"/>
<div class="alert alert-info">
    <strong>[09.06.2018] Update:</strong> Trial version
</div>

<p>They&rsquo;ve added a free trial version: <a href="https://proxieapp.com">https://proxieapp.com</a></p>
      </div>
    </article>
    <div><div id="tags">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
          <a class="tag" href="https://retifrav.github.io/tags/macos/">macos</a><a class="tag" href="https://retifrav.github.io/tags/soft/">soft</a><a class="tag" href="https://retifrav.github.io/tags/review/">review</a><a class="tag" href="https://retifrav.github.io/tags/web/">web</a><a class="tag" href="https://retifrav.github.io/tags/piracy/">piracy</a></div><hr class="comments-divider"/>
      <div id="comments">
      
      </div>
    </div>
  </div>

        <div id="footer">
          <div>
              2014-2021,
              <a href="/about/">retif</a>
          </div>
          <div><a href="/about/#licenses">CC BY-SA 4.0 / GPLv3</a></div>
        </div>
      </main>
      <div class="app-header">
        <a id="avatar" href="/about"><img class="app-header-avatar" src="/images/avatar.png" /></a>
        
        <div class="sidebar-section">
            <input id="search-query" placeholder="Search in titles and summaries" />
        </div>
        <div id="search-results" style="display:none;"></div>
        <div id="sidebars">
            <div id="telegram" class="sidebar-section">
              <script async src="https://telegram.org/js/telegram-widget.js?5"
                  data-telegram-post="decovar/301" data-width="100%" data-userpic="false">
              </script>
            </div>
            <div class="sidebar-section">
              <h3>Feeds</h3>
              <a href="/index.xml" title="Subscribe to RSS"><img src="/images/rss.png" width="50px"></a>
              <a style="margin-left: 5px;" href="https://t.me/decovar" title="Telegram channel"><img src="/images/telegram.png" width="50px"></a>
            </div>
            <div class="sidebar-section">
                <h3>Stuff</h3>
                <ul class="sidebar-list">
                    <li><a href="/stuff/kakoi-jvotne-vi-kysaiti/index.html">КАКОИ ЖВОТНЕ ВЫ КУСАИТИ?</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <h3>Top</h3>
                <ul class="sidebar-list">
                    <li><a href="/top/cider">Cider</a></li>
                </ul>
            </div>
            <div id="social-networks" class="sidebar-section">
              <h3>Social networks</h3>
              <div style="font-family:Courier New;">
                  Zuck: <i>Yeah so if you ever need info about anyone at Harvard</i><br/>
                  Zuck: <i>Just ask</i><br/>
                  Zuck: <i>I have over 4,000 emails, pictures, addresses, SNS</i><br/>
                  smb: <i>What? How'd you manage that one?</i><br/>
                  Zuck: <i>People just submitted it.</i><br/>
                  Zuck: <i>I don't know why.</i><br/>
                  Zuck: <i>They "trust me"</i><br/>
                  Zuck: <i>Dumb fucks</i>
              </div>
            </div>
            <div class="sidebar-section">
              <h3>Tags</h3>
              <ul style="list-style-type:none; padding:0; margin:0;">
                  
                  <li><a href="/tags/web">web (63)</a></li>
                  
                  <li><a href="/tags/fail">fail (39)</a></li>
                  
                  <li><a href="/tags/dotnet">dotnet (35)</a></li>
                  
                  <li><a href="/tags/qt">qt (32)</a></li>
                  
                  <li><a href="/tags/review">review (26)</a></li>
                  
                  <li><a href="/tags/linux">linux (23)</a></li>
                  
                  <li><a href="/tags/macos">macos (23)</a></li>
                  
                  <li><a href="/tags/devops">devops (22)</a></li>
                  
                  <li><a href="/tags/windows">windows (18)</a></li>
                  
                  <li><a href="/tags/mestuff">mestuff (16)</a></li>
                  
                  <li><a href="/tags/movies">movies (15)</a></li>
                  
                  <li><a href="/tags/tractor">tractor (13)</a></li>
                  
                  <li><a href="/tags/norway">norway (12)</a></li>
                  
                  <li><a href="/tags/telegram">telegram (12)</a></li>
                  
                  <li><a href="/tags/python">python (10)</a></li>
                  
                  <li><a href="/tags/soft">soft (10)</a></li>
                  
                  <li><a href="/tags/travel">travel (10)</a></li>
                  
                  <li><a href="/tags/applescript">applescript (9)</a></li>
                  
                  <li><a href="/tags/embedded">embedded (9)</a></li>
                  
                  <li><a href="/tags/piracy">piracy (9)</a></li>
                  
                  <li><a href="/tags/octopress">octopress (8)</a></li>
                  
                  <li><a href="/tags/banks">banks (7)</a></li>
                  
                  <li><a href="/tags/ios">ios (7)</a></li>
                  
                  <li><a href="/tags/apple">apple (6)</a></li>
                  
                  <li><a href="/tags/cmake">cmake (6)</a></li>
                  
                  <li><a href="/tags/cpp">cpp (6)</a></li>
                  
                  <li><a href="/tags/games">games (6)</a></li>
                  
                  <li><a href="/tags/javascript">javascript (6)</a></li>
                  
                  <li><a href="/tags/photo">photo (6)</a></li>
                  
                  <li><a href="/tags/sql">sql (6)</a></li>
                  
                  <li><a href="/tags/hugo">hugo (4)</a></li>
                  
                  <li><a href="/tags/russia">russia (4)</a></li>
                  
                  <li><a href="/tags/wordpress">wordpress (4)</a></li>
                  
                  <li><a href="/tags/android">android (3)</a></li>
                  
                  <li><a href="/tags/tv">tv (3)</a></li>
                  
                  <li><a href="/tags/usa">usa (3)</a></li>
                  
                  <li><a href="/tags/azure">azure (2)</a></li>
                  
                  <li><a href="/tags/tvos">tvos (2)</a></li>
                  
                  <li><a href="/tags/unsolved">unsolved (2)</a></li>
                  
                  <li><a href="/tags/books">books (1)</a></li>
                  
                  <li><a href="/tags/ffmpeg">ffmpeg (1)</a></li>
                  
                  <li><a href="/tags/irl">irl (1)</a></li>
                  
                  <li><a href="/tags/music">music (1)</a></li>
                  
                  <li><a href="/tags/privacy">privacy (1)</a></li>
                  
                  <li><a href="/tags/vr">vr (1)</a></li>
                  
              </ul>
            </div>
        </div>
      </header>
    </div>

    <script src="/js/search.js"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53340325-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", "UA-53340325-1");
    </script>

    
    
  </body>
</html>
