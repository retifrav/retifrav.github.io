<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Previews for Google Photos | Declaration of VAR</title>
    <link rel="canonical" href="https://decovar.dev/blog/2017/02/01/google-photos-previews/" />

    <meta name="generator" content="Hugo" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="/favicon.png" rel="icon">

    <meta name="author" content="retif" />
    <meta name="description" content="" />

    <link rel="alternate" type="application/rss+xml" href="/index.xml" title="Declaration of VAR" />

    <meta property="og:url" content="https://retifrav.github.io/blog/2017/02/01/google-photos-previews/">
  <meta property="og:site_name" content="Declaration of VAR">
  <meta property="og:title" content="Previews for Google Photos">
  <meta property="og:description" content="When you are writing a blog post or an article you might want to include some images / photos there. Sometimes, they can be quite large (1 MB or even more), and you’d prefer to show just a small preview in the the article that can be “enlarged” to the original size by clicking on it.
Google Photos provides just the thing. Well, not exactly, but it provides the core functionality that can be used quite easily.
You say, so what, I will just place them where I host my website/blog, no problem. That’s true, but if you have a limited disk space at your hosting, or you, like me, host your blog on GitHub and don’t want to abuse its hospitality, then it is your case.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2017-02-01T13:37:42+01:00">
    <meta property="article:modified_time" content="2017-02-01T13:37:42+01:00">
    <meta property="article:tag" content="Web">
    <meta property="article:tag" content="Photo">
    <meta property="article:tag" content="Octopress">


    <link rel="stylesheet" href="https://retifrav.github.io/css/main.min.2a28493e0b91076cde9fb52cb7fec81f63f685a6965e6a9df1179ec846b9141f.css" />
    <link rel="stylesheet" href="/css/default.css" />
    <link rel="stylesheet" href="/css/post.css" />
    <link rel="stylesheet" href="/css/page.css" />
    <link rel="stylesheet" href="/css/comments.css" />

    <script src="/js/mark.js"></script>

    
    
  </head>
  <body>
    <div id="body-hat">
      <div id="title-block">
        <h1 id="blog-title"><a href="/">Declaration of VAR</a></h1>
        <p>and some other stuff</p>
      </div>
    </div>
    <div style="background-color:orange; padding:4px 16px; font-size:0.8em; text-align:center; font-style:italic;">
        On 19.05.2021 the website was moved to
        <a href="https://decovar.dev/blog/2017/02/01/google-photos-previews/" style="color:black; font-weight:bold;">
            https://decovar.dev/</a>. This is just a mirror now.
    </div>
    <div id="body-flex">
      <main class="app-container">
        
  <div id="main-container">
    <article class="post">
      <header class="post-header">
        <h1 class ="post-title">Previews for Google Photos</h1>
        <div class="post-meta">
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg> 2017-02-01 13:37:42 &#43;0100</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg> 3 min read</div>
        </div>
      </header>
      <div class="post-content">
        <p>When you are writing a blog post or an article you might want to include some images / photos there. Sometimes, they can be quite large (1 MB or even more), and you&rsquo;d prefer to show just a small preview in the the article that can be &ldquo;enlarged&rdquo; to the original size by clicking on it.</p>
<p><a href="https://photos.google.com">Google Photos</a> provides just the thing. Well, not exactly, but it provides the core functionality that can be used quite easily.</p>
<p>You say, so what, I will just place them where I host my website/blog, no problem. That&rsquo;s true, but if you have a limited disk space at your hosting, or you, like me, host your blog on GitHub and don&rsquo;t want to abuse its hospitality, then it is your case.</p>
<p>Here&rsquo;s an example of how some URL for the image from Google Photos might look like:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>https<span style="color:#66d9ef">:</span><span style="color:#66d9ef">//lh3.googleusercontent.com/REALLY-LONG-URL</span><span style="color:#f92672">=</span>w2260<span style="color:#f92672">-</span>h1472<span style="color:#f92672">-</span>no</span></span></code></pre></div>
<p>I&rsquo;m using the <code>REALLY-LONG-URL</code> substitute to replace a really long URL of actual images. Obviously, <a href="https://lh3.googleusercontent.com/REALLY-LONG-URL=w2260-h1472-no">https://lh3.googleusercontent.com/REALLY-LONG-URL=w2260-h1472-no</a> does not lead anywhere (at least now, in 01.02.2017).</p>
<p>&hellip;And I hope, I don&rsquo;t have to explain to you how to get a direct link to the image file?</p>
<p>Anyway, if you would open such a link in web-browser, it would load the original image. But notice the end of the URL: <code>=w2260-h1472-no</code>. Yep, you can control image size via these parameters:</p>
<ul>
<li><code>=w2260</code> - width of the image is 2260px;</li>
<li><code>=h1472</code> - height of the image is 1472px;</li>
<li><code>no</code> - no idea, what is this for :) you can just delete it.</li>
</ul>
<p>So, here&rsquo;s how the URL should look like in case you want to have:</p>
<ul>
<li>a preview with 300px width: <code>https://lh3.googleusercontent.com/REALLY-LONG-URL=w300</code></li>
<li>a preview with 500px height: <code>https://lh3.googleusercontent.com/REALLY-LONG-URL=h500</code></li>
</ul>
<p>Easy. Now we just need to wrap it inside the <code>&lt;a href=&quot;&quot;&gt;&lt;/a&gt;</code> tag like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://lh3.googleusercontent.com/REALLY-LONG-URL=w2260-h1472-no&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">img</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://lh3.googleusercontent.com/REALLY-LONG-URL=w300&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">a</span>&gt;</span></span></code></pre></div>
<p>Or, specifically for Octopress-based blog:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://lh3.googleusercontent.com/REALLY-LONG-URL=w2260-h1472-no&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {% img center https://lh3.googleusercontent.com/REALLY-LONG-URL=w300 some description %}
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">a</span>&gt;</span></span></code></pre></div>
<p>That would give us a clickable 300px-width preview that opens the original image in a new tab:</p>
<p><a href="https://lh3.googleusercontent.com/uvyvUeqRP9j5U5vGGDStTlteXHc3acwU6shjqjv_Sr1kkuYzpCS34VF6I8VAwoO0cU0gIXgs207DGu6xnNmyRvcIcUpOgHxrgWESAEvwZzy2XvzfDTnB0RUpoTxuNNsDAFqYGpTAebUwgwyvHARv8yh3PpoObPKo0Mtjksmmwui6iVrKS3HopMsUpIa4EOXgGhF2By4dsJV1Uf-5gm6t0cUosai3jCT83Ks0a84avE4KSgOR5Wk59HzRWfGHUXE5kyWwSDNKboKd5vnyLs2gdmq-R6mVCW_Uw_YZVdN0nqN1iCvadZXrePRevkbAjqpP2Z2-l0K-I7gsooKhuZ081zP7lpUTLU34upCwqDtWYoS2iEbN8gTtvPGqYBJcPAyKBuyOwQHl8T_urx_l_4A9k1JAgJECHKJbSmNY_OCBQP4UZvDl18PNnPhZiGan4I6-gW8_qdfA9934DvbXhyuoFsj99DYWdUuoDwt-aDnlEFLXClGOGCl8oEuec-EJthTh7aDiQYsn06vQSTP23JcMQP2A_taYdAgmcZQYHT0YT5GVkQetiPzMih13Bd6jTiBgFv3BxfUgUspxA5jdwY4PLg6DBBqHZQfzOwVpw3a-iOepGJNI8r_qPrTQnWu3EWg3W8dk8iZ1TNiQDLc8e45fHC3Use6tRxAOZvx7Uk43sROqfJbxaCEYsi2-C-CfGmjq0982l4GHwuYvMGQlRBQC3CnR=w2696-h1756-no" target="_blank"><img class="image-post" src="https://lh3.googleusercontent.com/uvyvUeqRP9j5U5vGGDStTlteXHc3acwU6shjqjv_Sr1kkuYzpCS34VF6I8VAwoO0cU0gIXgs207DGu6xnNmyRvcIcUpOgHxrgWESAEvwZzy2XvzfDTnB0RUpoTxuNNsDAFqYGpTAebUwgwyvHARv8yh3PpoObPKo0Mtjksmmwui6iVrKS3HopMsUpIa4EOXgGhF2By4dsJV1Uf-5gm6t0cUosai3jCT83Ks0a84avE4KSgOR5Wk59HzRWfGHUXE5kyWwSDNKboKd5vnyLs2gdmq-R6mVCW_Uw_YZVdN0nqN1iCvadZXrePRevkbAjqpP2Z2-l0K-I7gsooKhuZ081zP7lpUTLU34upCwqDtWYoS2iEbN8gTtvPGqYBJcPAyKBuyOwQHl8T_urx_l_4A9k1JAgJECHKJbSmNY_OCBQP4UZvDl18PNnPhZiGan4I6-gW8_qdfA9934DvbXhyuoFsj99DYWdUuoDwt-aDnlEFLXClGOGCl8oEuec-EJthTh7aDiQYsn06vQSTP23JcMQP2A_taYdAgmcZQYHT0YT5GVkQetiPzMih13Bd6jTiBgFv3BxfUgUspxA5jdwY4PLg6DBBqHZQfzOwVpw3a-iOepGJNI8r_qPrTQnWu3EWg3W8dk8iZ1TNiQDLc8e45fHC3Use6tRxAOZvx7Uk43sROqfJbxaCEYsi2-C-CfGmjq0982l4GHwuYvMGQlRBQC3CnR=w500" alt="Boracay"/></a></p>
<p>You can compare the size of preview and the size of original image to see for yourself that it&rsquo;s not just different values of <code>width</code> attribute of an <code>&lt;img/&gt;</code> tag, but actually two different pictures: one is a smaller preview and another is an original file.</p>
<p>Thank you, Google, for such simple but effective feature. Weird thing, that it&rsquo;s not documented anywhere (or I just couldn&rsquo;t find it).</p>



<hr class="updates-divider"/>
<div class="alert alert-info">
    <strong>[05.01.2018] Update:</strong> Alfred Workflow
</div>

<p>Eventually, I got bogged down with those crazy long Google Photo URLs, so I created an <a href="https://www.alfredapp.com/workflows/">Alfred Workflow</a> for transforming them into a ready-to-paste state:</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow.png" alt="Alfred Workflow">

<p>Workflow is activated by a keyword <code>gpcpreview</code>:</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow-keyword.png" alt="Alfred Workflow keyword">

<p>It runs a bash script, which launches a .NET Core console application I wrote for transforming URLs (source code is <a href="https://github.com/retifrav/utils/blob/master/google-photos-clickable-preview/Program.cs">here</a>):</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow-script.png" alt="Alfred Workflow script">

<p>Copies results to clipboard, pastes them to editor:</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow-clipboard.png" alt="Alfred Workflow clipboard">

<p>And shows notification (there is no need in this step, really):</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow-notification.png" alt="Alfred Workflow notification">

<p>Here&rsquo;s how it works:</p>


    <img class="image-post" loading="lazy" src="/blog/2017/02/01/google-photos-previews/images/alfred-workflow-action.gif" alt="Alfred Workflow in action">
      </div>
    </article>
    <div><div id="tags">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
          <a class="tag" href="https://retifrav.github.io/tags/web/">web</a><a class="tag" href="https://retifrav.github.io/tags/photo/">photo</a><a class="tag" href="https://retifrav.github.io/tags/octopress/">octopress</a></div><hr class="comments-divider"/>
      <div id="comments">
      
          <div style="border:2px orange solid; background-color: floralwhite; border-radius:0.5rem; padding: 10px 14px; font-style:italic; font-size:0.9em;">
              If you'd like to comment the article, you can do it on the
              <a href="https://decovar.dev/blog/2017/02/01/google-photos-previews/#remark42" style="font-weight:bold;">
                  original website</a>. This one is just a mirror without comments.
          </div>
      
      </div>
    </div>
  </div>

        <div id="footer">
          <div>
              2014 - 2024,
              <a href="/about/">retif</a>
          </div>
          <div><a href="/about/#licenses">CC BY-SA 4.0 / GPLv3</a></div>
        </div>
      </main>
      <div class="app-header">
        <div style="margin:0 0 20px;">
            <input id="search-query" placeholder="Search in titles and summaries" />
        </div>
        <div id="search-results" style="display:none;"></div>
        <div id="sidebars">
            <a id="avatar" href="/about"><img class="app-header-avatar" src="/images/avatar.png" /></a>
            <iframe src="https://github.com/sponsors/retifrav/button"
                height="35" style="border:0;"
                title="You can sponsor me">
            </iframe>
            
            <div class="sidebar-section">
              <h3>Feeds</h3>
              <a href="/index.xml" title="Subscribe to RSS"><img src="/images/rss.png" width="50px"></a>
              <a style="margin-left: 5px;" href="https://t.me/decovar" title="Telegram channel"><img src="/images/telegram.png" width="50px"></a>
            </div>
            <div id="telegramWidgetBlock" class="sidebar-section"></div>
            <div class="sidebar-section">
                <h3>Stuff</h3>
                <ul class="sidebar-list">
                    <li><a href="/stuff/kakoi-jvotne-vi-kysaiti/index.html">КАКОИ ЖВОТНЕ ВЫ КУСАИТИ?</a></li>
                </ul>
            </div>
            <div id="social-networks" class="sidebar-section">
              <h3>Social networks</h3>
              <div style="font-family:Courier New;">
                  Zuck: <i>Yeah so if you ever need info about anyone at Harvard</i><br/>
                  Zuck: <i>Just ask</i><br/>
                  Zuck: <i>I have over 4,000 emails, pictures, addresses, SNS</i><br/>
                  smb: <i>What? How'd you manage that one?</i><br/>
                  Zuck: <i>People just submitted it.</i><br/>
                  Zuck: <i>I don't know why.</i><br/>
                  Zuck: <i>They "trust me"</i><br/>
                  Zuck: <i>Dumb fucks</i>
              </div>
            </div>
            <div class="sidebar-section">
              <h3>Tags</h3>
              <ul style="list-style-type:none; padding:0; margin:0;">
                  
                  <li><a href="/tags/web">web (67)</a></li>
                  
                  <li><a href="/tags/fail">fail (40)</a></li>
                  
                  <li><a href="/tags/dotnet">dotnet (36)</a></li>
                  
                  <li><a href="/tags/qt">qt (35)</a></li>
                  
                  <li><a href="/tags/linux">linux (28)</a></li>
                  
                  <li><a href="/tags/review">review (28)</a></li>
                  
                  <li><a href="/tags/devops">devops (23)</a></li>
                  
                  <li><a href="/tags/macos">macos (23)</a></li>
                  
                  <li><a href="/tags/windows">windows (19)</a></li>
                  
                  <li><a href="/tags/mestuff">mestuff (17)</a></li>
                  
                  <li><a href="/tags/movies">movies (15)</a></li>
                  
                  <li><a href="/tags/norway">norway (15)</a></li>
                  
                  <li><a href="/tags/tractor">tractor (15)</a></li>
                  
                  <li><a href="/tags/cpp">cpp (12)</a></li>
                  
                  <li><a href="/tags/irl">irl (12)</a></li>
                  
                  <li><a href="/tags/python">python (12)</a></li>
                  
                  <li><a href="/tags/telegram">telegram (12)</a></li>
                  
                  <li><a href="/tags/cmake">cmake (11)</a></li>
                  
                  <li><a href="/tags/embedded">embedded (11)</a></li>
                  
                  <li><a href="/tags/soft">soft (10)</a></li>
                  
                  <li><a href="/tags/travel">travel (10)</a></li>
                  
                  <li><a href="/tags/applescript">applescript (9)</a></li>
                  
                  <li><a href="/tags/piracy">piracy (9)</a></li>
                  
                  <li><a href="/tags/octopress">octopress (8)</a></li>
                  
                  <li><a href="/tags/banks">banks (7)</a></li>
                  
                  <li><a href="/tags/games">games (7)</a></li>
                  
                  <li><a href="/tags/ios">ios (7)</a></li>
                  
                  <li><a href="/tags/apple">apple (6)</a></li>
                  
                  <li><a href="/tags/javascript">javascript (6)</a></li>
                  
                  <li><a href="/tags/photo">photo (6)</a></li>
                  
                  <li><a href="/tags/sql">sql (6)</a></li>
                  
                  <li><a href="/tags/russia">russia (5)</a></li>
                  
                  <li><a href="/tags/android">android (4)</a></li>
                  
                  <li><a href="/tags/hugo">hugo (4)</a></li>
                  
                  <li><a href="/tags/usa">usa (4)</a></li>
                  
                  <li><a href="/tags/wordpress">wordpress (4)</a></li>
                  
                  <li><a href="/tags/azure">azure (3)</a></li>
                  
                  <li><a href="/tags/tv">tv (3)</a></li>
                  
                  <li><a href="/tags/privacy">privacy (2)</a></li>
                  
                  <li><a href="/tags/steam-deck">steam-deck (2)</a></li>
                  
                  <li><a href="/tags/tvos">tvos (2)</a></li>
                  
                  <li><a href="/tags/unsolved">unsolved (2)</a></li>
                  
                  <li><a href="/tags/books">books (1)</a></li>
                  
                  <li><a href="/tags/ffmpeg">ffmpeg (1)</a></li>
                  
                  <li><a href="/tags/home-automation">home-automation (1)</a></li>
                  
                  <li><a href="/tags/ldap">ldap (1)</a></li>
                  
                  <li><a href="/tags/music">music (1)</a></li>
                  
                  <li><a href="/tags/science">science (1)</a></li>
                  
                  <li><a href="/tags/vr">vr (1)</a></li>
                  
              </ul>
            </div>
        </div>
      </header>
    </div>

    <script src="/js/search.js"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53340325-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", "UA-53340325-1");
    </script>

    <script>
        const telegramBlock = document.getElementById("telegramWidgetBlock");
        window.onload = () =>
        {
            const pinnedTelegramPosts = [328]
            const randomedPostID = pinnedTelegramPosts[
                Math.floor(Math.random() * pinnedTelegramPosts.length)
            ];
            const telegramWidgetScript = document.createElement("script");
            telegramWidgetScript.src = "https://telegram.org/js/telegram-widget.js?21";
            telegramWidgetScript.dataset["telegramPost"] = `decovar/${randomedPostID}`;
            telegramWidgetScript.dataset["color"] = "1E8448";
            telegramWidgetScript.dataset["width"] = "100%";
            telegramWidgetScript.dataset["userpic"] = "false";
            telegramBlock.appendChild(telegramWidgetScript);
        }
    </script>

    
    
  </body>
</html>
