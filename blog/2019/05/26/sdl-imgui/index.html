<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SDL and Dear ImGui, C&#43;&#43; GUI without Qt | Declaration of VAR</title>
    <link rel="canonical" href="https://decovar.dev/blog/2019/05/26/sdl-imgui/" />

    <meta name="generator" content="Hugo 0.123.3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="/favicon.png" rel="icon">

    <meta name="author" content="retif" />
    <meta name="description" content="" />

    <link rel="alternate" type="application/rss+xml" href="/index.xml" title="Declaration of VAR" />

    <meta property="og:title" content="SDL and Dear ImGui, C&#43;&#43; GUI without Qt" />
<meta property="og:description" content="Qt is certainly great, but there are other ways for creating cross-platform GUI, one of such ways being a combination of SDL and Dear ImGui.


    

While, in my opinion, it barely can compete with Qt (especially Qt Quick) in terms of beauty and fancy, it is nevertheless a simple, lightweight and quite powerful &ldquo;framework&rdquo;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://retifrav.github.io/blog/2019/05/26/sdl-imgui/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2019-05-26T16:08:19+02:00" />
<meta property="article:modified_time" content="2019-05-26T16:08:19+02:00" />



    <link rel="stylesheet" href="https://retifrav.github.io/css/main.min.2a28493e0b91076cde9fb52cb7fec81f63f685a6965e6a9df1179ec846b9141f.css" />
    <link rel="stylesheet" href="/css/default.css" />
    <link rel="stylesheet" href="/css/post.css" />
    <link rel="stylesheet" href="/css/page.css" />
    <link rel="stylesheet" href="/css/comments.css" />

    <script src="/js/mark.js"></script>

    
    
  </head>
  <body>
    <div id="body-hat">
      <div id="title-block">
        <h1 id="blog-title"><a href="/">Declaration of VAR</a></h1>
        <p>and some other stuff</p>
      </div>
    </div>
    <div style="background-color:orange; padding:4px 16px; font-size:0.8em; text-align:center; font-style:italic;">
        On 19.05.2021 the website was moved to
        <a href="https://decovar.dev/blog/2019/05/26/sdl-imgui/" style="color:black; font-weight:bold;">
            https://decovar.dev/</a>. This is just a mirror now.
    </div>
    <div id="body-flex">
      <main class="app-container">
        
  <div id="main-container">
    <article class="post">
      <header class="post-header">
        <h1 class ="post-title">SDL and Dear ImGui, C&#43;&#43; GUI without Qt</h1>
        <div class="post-meta">
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg> 2019-05-26 16:08:19 &#43;0200</div>
          <div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg> 13 min read</div>
        </div>
      </header>
      <div class="post-content">
        <p>Qt is certainly great, but there are other ways for creating cross-platform GUI, one of such ways being a combination of <a href="https://www.libsdl.org">SDL</a> and <a href="https://github.com/ocornut/imgui">Dear ImGui</a>.</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/sdl-imgui.png" alt="SDL and Dear ImGui">

<p>While, in my opinion, it barely can compete with Qt (especially Qt Quick) in terms of beauty and fancy, it is nevertheless a simple, lightweight and quite powerful &ldquo;framework&rdquo;.</p>
<p>I also <a href="/blog/2019/05/11/vscode-cmake-qt/">continue</a> learning <a href="https://cmake.org">CMake</a> with <a href="https://code.visualstudio.com">Visual Studio Code</a>, so that&rsquo;s what I will be using for building the project.</p>
<nav id="TableOfContents">
  <ul>
    <li><a href="#preparing-cmakeliststxt">Preparing CMakeLists.txt</a>
      <ul>
        <li><a href="#opengl">OpenGL</a></li>
        <li><a href="#glad">glad</a></li>
        <li><a href="#sdl">SDL</a>
          <ul>
            <li><a href="#on-windows">On Windows</a></li>
            <li><a href="#on-mac-os">On Mac OS</a></li>
            <li><a href="#on-linux">On Linux</a></li>
          </ul>
        </li>
        <li><a href="#dear-imgui">Dear ImGui</a></li>
      </ul>
    </li>
    <li><a href="#plugging-dear-imgui-into-sdl">Plugging Dear ImGui into SDL</a>
      <ul>
        <li><a href="#how-to-customize-the-style">How to customize the style</a></li>
        <li><a href="#how-to-display-a-list">How to display a list</a></li>
        <li><a href="#how-to-use-a-custom-font">How to use a custom font</a></li>
      </ul>
    </li>
    <li><a href="#building-from-visual-studio-code">Building from Visual Studio Code</a>
      <ul>
        <li><a href="#its-cross-platform">It&rsquo;s cross-platform</a></li>
      </ul>
    </li>
    <li><a href="#dealing-with-c-without-qt">Dealing with C++ without Qt</a>
      <ul>
        <li><a href="#concatenate-a-string">Concatenate a string</a></li>
        <li><a href="#get-a-string-with-current-date-and-time">Get a string with current date and time</a></li>
        <li><a href="#list-all-the-files-in-application-directory">List all the files in application directory</a>
          <ul>
            <li><a href="#no-c17-filesystem-on-mac-os">No C++17 filesystem on Mac OS</a></li>
            <li><a href="#no-c17-filesystem-on-linux">No C++17 filesystem on Linux</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
<h1 id="preparing-cmakeliststxt">Preparing CMakeLists.txt</h1>
<p>Almost the most difficult and time consuming part of the whole thing was to make it all work with CMake. But that&rsquo;s just me - still a total noob in CMake.</p>
<h2 id="opengl">OpenGL</h2>
<p>From lots of supported <a href="https://github.com/ocornut/imgui/tree/master/examples">backends</a> I decided to go with OpenGL.</p>
<p>CMake knows about it very well because adding it to <code>CMakeLists.txt</code> is very simple:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>find_package(<span style="color:#e6db74">OpenGL</span> <span style="color:#e6db74">REQUIRED</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>target_link_libraries(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>OPENGL_gl_LIBRARY<span style="color:#f92672">}</span>)</span></span></code></pre></div>
<h2 id="glad">glad</h2>
<p>You might find amusing that OpenGL is actually in such a state that it is not so trivial to get the latest version of it. And you need to use a special <a href="https://www.khronos.org/opengl/wiki/OpenGL_Loading_Library">OpenGL loading library</a> for that, one of which is <a href="https://github.com/Dav1dde/glad">glad</a>.</p>
<p>You can get it using a <a href="https://glad.dav1d.de/">webservice</a>. I have no idea what difference do all these options make here, so I just checked the maximum OpenGL version and added all the extensions:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/glad-webservice.png" alt="glad webservice">

<p>Generate the files, download <code>glad.zip</code>, unpack it and add the library to <code>CMakeLists.txt</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>add_library(<span style="color:#e6db74">&#34;glad&#34;</span> <span style="color:#e6db74">&#34;/path/to/glad/src/glad.c&#34;</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>include_directories(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;/path/to/glad/include&#34;</span>
</span></span><span style="display:flex;"><span>    )<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>target_link_libraries(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;glad&#34;</span>
</span></span><span style="display:flex;"><span>    )</span></span></code></pre></div>
<h2 id="sdl">SDL</h2>
<p>There are several <a href="https://trenki2.github.io/blog/2017/06/02/using-sdl2-with-cmake/">solutions</a> referring to multiple variations of <a href="https://github.com/Kitware/CMake/blob/master/Modules/FindSDL.cmake">FindSDL2.cmake</a>. As usual, none of those were useful, and what actually worked for me was simply specifying where the library and its headers are.</p>
<h3 id="on-windows">On Windows</h3>
<p>On Windows I have SDL library here: <code>e:/tools/sdl/</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> <span style="color:#a6e22e">BUGS</span><span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> <span style="color:#a6e22e">COPYING</span><span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> <span style="color:#a6e22e">README</span><span style="color:#f92672">-</span><span style="color:#a6e22e">SDL</span><span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> <span style="color:#a6e22e">README</span><span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> <span style="color:#a6e22e">WhatsNew</span><span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> docs
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">README</span><span style="color:#f92672">-</span>android<span style="color:#f92672">.</span>md
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> doxyfile
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> include
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL</span><span style="color:#f92672">.</span>h
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> close_code<span style="color:#f92672">.</span>h
</span></span><span style="display:flex;"><span><span style="color:#f92672">├──</span> lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> x64
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2</span><span style="color:#f92672">.</span>dll
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2main</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> <span style="color:#a6e22e">SDL2test</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> x86
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>       <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2</span><span style="color:#f92672">.</span>dll
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>       <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>       <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2main</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">│</span>       <span style="color:#f92672">└──</span> <span style="color:#a6e22e">SDL2test</span><span style="color:#f92672">.</span>lib
</span></span><span style="display:flex;"><span><span style="color:#f92672">└──</span> sdl2<span style="color:#f92672">-</span>config<span style="color:#f92672">.</span>cmake</span></span></code></pre></div>
<p>So, here&rsquo;s what I added to <code>CMakeLists.txt</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span><span style="color:#75715e"># SDL library
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>find_library(<span style="color:#e6db74">SDL</span> <span style="color:#e6db74">SDL2</span> <span style="color:#e6db74">PATHS</span> <span style="color:#e6db74">e:/tools/sdl/lib/x64</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># that is needed on Windows for main function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>find_library(<span style="color:#e6db74">SDLmain</span> <span style="color:#e6db74">SDL2main</span> <span style="color:#e6db74">PATHS</span> <span style="color:#e6db74">e:/tools/sdl/lib/x64</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># headers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>include_directories(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;e:/tools/sdl/include&#34;</span>
</span></span><span style="display:flex;"><span>    )<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>add_executable(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#e6db74">WIN32</span> <span style="color:#f92672">${</span>sources<span style="color:#f92672">}</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>target_link_libraries(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>SDL<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>SDLmain<span style="color:#f92672">}</span>)</span></span></code></pre></div>
<p>A better solution would be to put SDL into <code>lib</code> folder in your project directory - and that&rsquo;s what I did on Mac OS.</p>
<h3 id="on-mac-os">On Mac OS</h3>
<p>On Mac OS it was less trivial as there SDL comes as a <a href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/OSX_Technology_Overview/SystemFrameworks/SystemFrameworks.html">framework</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">└──</span> <span style="color:#a6e22e">SDL2</span><span style="color:#f92672">.</span>framework
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">├──</span> <span style="color:#a6e22e">Headers</span> <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Versions</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Current</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Headers</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">├──</span> <span style="color:#a6e22e">Resources</span> <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Versions</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Current</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Resources</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL2</span> <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Versions</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Current</span><span style="color:#f92672">/</span><span style="color:#a6e22e">SDL2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">└──</span> <span style="color:#a6e22e">Versions</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">├──</span> A
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">Headers</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">SDL</span><span style="color:#f92672">.</span>h
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> close_code<span style="color:#f92672">.</span>h
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">├──</span> <span style="color:#a6e22e">Resources</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> <span style="color:#a6e22e">Info</span><span style="color:#f92672">.</span>plist
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">│</span>   <span style="color:#f92672">└──</span> <span style="color:#a6e22e">SDL2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">└──</span> <span style="color:#a6e22e">Current</span> <span style="color:#f92672">-&gt;</span> A</span></span></code></pre></div>
<p>However, the principle is the same:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span><span style="color:#75715e"># SDL library
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>find_library(<span style="color:#e6db74">SDL</span> <span style="color:#e6db74">SDL2</span> <span style="color:#e6db74">PATHS</span> <span style="color:#e6db74">&#34;${CMAKE_SOURCE_DIR}/lib&#34;</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># headers
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>include_directories(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;${CMAKE_SOURCE_DIR}/lib/SDL2.framework/Versions/Current/Headers&#34;</span>
</span></span><span style="display:flex;"><span>    )<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>add_executable(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>sources<span style="color:#f92672">}</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>target_link_libraries(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>SDL<span style="color:#f92672">}</span>)</span></span></code></pre></div>
<p>Unlike Windows, there is no need to link with <code>SDL2main</code> library on Mac OS.</p>
<h3 id="on-linux">On Linux</h3>
<p>Check if you actually have SDL in the system:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span>apt install libsdl2<span style="color:#f92672">-</span>dev</span></span></code></pre></div>
<p>If you do, then libraries discovery on Linux is organized so well that you can just do this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>find_package(<span style="color:#e6db74">SDL2</span> <span style="color:#e6db74">REQUIRED</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>include_directories(<span style="color:#f92672">${</span>SDL2_INCLUDE_DIRS<span style="color:#f92672">}</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>add_executable(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>sources<span style="color:#f92672">}</span>)<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span>target_link_libraries(<span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#f92672">${</span>SDL2_LIBRARIES<span style="color:#f92672">}</span>)</span></span></code></pre></div>
<p>But finding the <em>right</em> variables took me a good couple of hours. It is amazing how such fucking simple things are so motherfucking complicated and hard to find.</p>
<h2 id="dear-imgui">Dear ImGui</h2>
<p>Unlike other frameworks/libraries, <a href="https://github.com/ocornut/imgui">Dear ImGui</a> comes in a form of plain source files which you need to include into your project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>set(<span style="color:#e6db74">sources</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">main.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imconfig.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_demo.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_draw.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_internal.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_widgets.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imstb_rectpack.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imstb_textedit.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imstb_truetype.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_impl_opengl3.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_impl_opengl3.h</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_impl_sdl.cpp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">imgui/imgui_impl_sdl.h</span>
</span></span><span style="display:flex;"><span>)</span></span></code></pre></div>
<p>These files are from the <a href="https://github.com/ocornut/imgui/tree/master/examples">examples</a> folder of the Dear ImGui repository:</p>
<ul>
<li><code>imgui_impl_opengl3.cpp</code></li>
<li><code>imgui_impl_opengl3.h</code></li>
<li><code>imgui_impl_sdl.cpp</code></li>
<li><code>imgui_impl_sdl.h</code></li>
</ul>
<p>You can take a look at full <code>CMakeLists.txt</code> <a href="https://github.com/retifrav/sdl-imgui-example/blob/master/CMakeLists.txt">here</a>.</p>
<h1 id="plugging-dear-imgui-into-sdl">Plugging Dear ImGui into SDL</h1>
<p>In order for Dear ImGui to &ldquo;work&rdquo;, it needs some host window and a rendering loop for its widgets to live in, and SDL provides all that.</p>
<p>Here&rsquo;s how you can plug Dear ImGui into SDL (<em>based on <a href="https://github.com/ocornut/imgui/blob/master/examples/example_sdl_opengl3/main.cpp">this example</a></em>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// C++
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">// SDL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;glad/glad.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;SDL.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">// Dear ImGui
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;imgui-style.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;imgui/imgui_impl_sdl.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;imgui/imgui_impl_opengl3.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;functions.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> windowWidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">1280</span>,
</span></span><span style="display:flex;"><span>    windowHeight <span style="color:#f92672">=</span> <span style="color:#ae81ff">720</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// initiate SDL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (SDL_Init(SDL_INIT_VIDEO) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;[ERROR] %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, SDL_GetError());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// set OpenGL attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SDL_GL_SetAttribute(SDL_GL_DOUBLEBUFFER, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_DEPTH_SIZE, <span style="color:#ae81ff">24</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_STENCIL_SIZE, <span style="color:#ae81ff">8</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(
</span></span><span style="display:flex;"><span>        SDL_GL_CONTEXT_PROFILE_MASK,
</span></span><span style="display:flex;"><span>        SDL_GL_CONTEXT_PROFILE_CORE
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string glsl_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ifdef __APPLE__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// GL 3.2 Core + GLSL 150
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    glsl_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#version 150&#34;</span>;
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute( <span style="color:#75715e">// required on Mac OS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        SDL_GL_CONTEXT_FLAGS,
</span></span><span style="display:flex;"><span>        SDL_GL_CONTEXT_FORWARD_COMPATIBLE_FLAG
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#elif __linux__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// GL 3.2 Core + GLSL 150
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    glsl_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#version 150&#34;</span>;
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_FLAGS, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, <span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#elif _WIN32
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// GL 3.0 + GLSL 130
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    glsl_version <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#version 130&#34;</span>;
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_FLAGS, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, <span style="color:#ae81ff">3</span>);
</span></span><span style="display:flex;"><span>    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">#endif
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    SDL_WindowFlags window_flags <span style="color:#f92672">=</span> (SDL_WindowFlags)(
</span></span><span style="display:flex;"><span>        SDL_WINDOW_OPENGL
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|</span> SDL_WINDOW_RESIZABLE
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|</span> SDL_WINDOW_ALLOW_HIGHDPI
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    SDL_Window <span style="color:#f92672">*</span>window <span style="color:#f92672">=</span> SDL_CreateWindow(
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Dear ImGui SDL&#34;</span>,
</span></span><span style="display:flex;"><span>        SDL_WINDOWPOS_CENTERED,
</span></span><span style="display:flex;"><span>        SDL_WINDOWPOS_CENTERED,
</span></span><span style="display:flex;"><span>        windowWidth,
</span></span><span style="display:flex;"><span>        windowHeight,
</span></span><span style="display:flex;"><span>        window_flags
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// limit to which minimum size user can resize the window
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SDL_SetWindowMinimumSize(window, <span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">300</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    SDL_GLContext gl_context <span style="color:#f92672">=</span> SDL_GL_CreateContext(window);
</span></span><span style="display:flex;"><span>    SDL_GL_MakeCurrent(window, gl_context);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// enable VSync
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    SDL_GL_SetSwapInterval(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>gladLoadGLLoader((GLADloadproc)SDL_GL_GetProcAddress))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cerr <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;[ERROR] Couldn&#39;t initialize glad&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>endl;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;[INFO] glad initialized</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    glViewport(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, windowWidth, windowHeight);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setup Dear ImGui context
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    IMGUI_CHECKVERSION();
</span></span><span style="display:flex;"><span>    ImGui<span style="color:#f92672">::</span>CreateContext();
</span></span><span style="display:flex;"><span>    ImGuiIO<span style="color:#f92672">&amp;</span> io <span style="color:#f92672">=</span> ImGui<span style="color:#f92672">::</span>GetIO(); (<span style="color:#66d9ef">void</span>)io;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setup Dear ImGui style
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ImGui<span style="color:#f92672">::</span>StyleColorsDark();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setup platform/renderer bindings
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ImGui_ImplSDL2_InitForOpenGL(window, gl_context);
</span></span><span style="display:flex;"><span>    ImGui_ImplOpenGL3_Init(glsl_version.c_str());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// colors are set in RGBA, but as float
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ImVec4 background <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">35</span><span style="color:#f92672">/</span><span style="color:#ae81ff">255.0f</span>, <span style="color:#ae81ff">35</span><span style="color:#f92672">/</span><span style="color:#ae81ff">255.0f</span>, <span style="color:#ae81ff">35</span><span style="color:#f92672">/</span><span style="color:#ae81ff">255.0f</span>, <span style="color:#ae81ff">1.00f</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    glClearColor(background.x, background.y, background.z, background.w);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> loop <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (loop)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        glClear(GL_COLOR_BUFFER_BIT <span style="color:#f92672">|</span> GL_DEPTH_BUFFER_BIT <span style="color:#f92672">|</span> GL_STENCIL_BUFFER_BIT);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        SDL_Event event;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (SDL_PollEvent(<span style="color:#f92672">&amp;</span>event))
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// without it you won&#39;t have keyboard input and other things
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ImGui_ImplSDL2_ProcessEvent(<span style="color:#f92672">&amp;</span>event);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// you might also want to check io.WantCaptureMouse and io.WantCaptureKeyboard
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// before processing events
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">switch</span> (event.type)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> SDL_QUIT:
</span></span><span style="display:flex;"><span>                loop <span style="color:#f92672">=</span> false;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> SDL_WINDOWEVENT:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">switch</span> (event.window.event)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> SDL_WINDOWEVENT_RESIZED:
</span></span><span style="display:flex;"><span>                    windowWidth <span style="color:#f92672">=</span> event.window.data1;
</span></span><span style="display:flex;"><span>                    windowHeight <span style="color:#f92672">=</span> event.window.data2;
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// std::cout &lt;&lt; &#34;[INFO] Window size: &#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//           &lt;&lt; windowWidth
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//           &lt;&lt; &#34;x&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//           &lt;&lt; windowHeight
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#75715e">//           &lt;&lt; std::endl;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    glViewport(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, windowWidth, windowHeight);
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> SDL_KEYDOWN:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">switch</span> (event.key.keysym.sym)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">case</span> SDLK_ESCAPE:
</span></span><span style="display:flex;"><span>                    loop <span style="color:#f92672">=</span> false;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// start the Dear ImGui frame
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ImGui_ImplOpenGL3_NewFrame();
</span></span><span style="display:flex;"><span>        ImGui_ImplSDL2_NewFrame(window);
</span></span><span style="display:flex;"><span>        ImGui<span style="color:#f92672">::</span>NewFrame();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// a window is defined by Begin/End pair
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> counter <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// get the window size as a base for calculating widgets geometry
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">int</span> sdl_width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, sdl_height <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, controls_width <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>            SDL_GetWindowSize(window, <span style="color:#f92672">&amp;</span>sdl_width, <span style="color:#f92672">&amp;</span>sdl_height);
</span></span><span style="display:flex;"><span>            controls_width <span style="color:#f92672">=</span> sdl_width;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// make controls widget width to be 1/3 of the main window width
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> ((controls_width <span style="color:#f92672">/=</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">300</span>) { controls_width <span style="color:#f92672">=</span> <span style="color:#ae81ff">300</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// position the controls widget in the top-right corner with some margin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ImGui<span style="color:#f92672">::</span>SetNextWindowPos(ImVec2(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">10</span>), ImGuiCond_Always);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// here we set the calculated width and also make the height to be
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// be the height of the main window also with some margin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ImGui<span style="color:#f92672">::</span>SetNextWindowSize(
</span></span><span style="display:flex;"><span>                ImVec2(<span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span>(controls_width), <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">float</span><span style="color:#f92672">&gt;</span>(sdl_height <span style="color:#f92672">-</span> <span style="color:#ae81ff">20</span>)),
</span></span><span style="display:flex;"><span>                ImGuiCond_Always
</span></span><span style="display:flex;"><span>                );
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// create a window and append into it
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            ImGui<span style="color:#f92672">::</span>Begin(<span style="color:#e6db74">&#34;Controls&#34;</span>, NULL, ImGuiWindowFlags_NoResize);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>Dummy(ImVec2(<span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">1.0f</span>));
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>TextColored(ImVec4(<span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">0.0f</span>, <span style="color:#ae81ff">1.0f</span>, <span style="color:#ae81ff">1.0f</span>), <span style="color:#e6db74">&#34;Platform&#34;</span>);
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>Text(<span style="color:#e6db74">&#34;%s&#34;</span>, SDL_GetPlatform());
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>Text(<span style="color:#e6db74">&#34;CPU cores: %d&#34;</span>, SDL_GetCPUCount());
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>Text(<span style="color:#e6db74">&#34;RAM: %.2f GB&#34;</span>, SDL_GetSystemRAM() <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024.0f</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// buttons and most other widgets return true when clicked/edited/activated
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (ImGui<span style="color:#f92672">::</span>Button(<span style="color:#e6db74">&#34;Counter button&#34;</span>))
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;counter button clicked</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>                counter<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>SameLine();
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>Text(<span style="color:#e6db74">&#34;counter = %d&#34;</span>, counter);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            ImGui<span style="color:#f92672">::</span>End();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// rendering
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ImGui<span style="color:#f92672">::</span>Render();
</span></span><span style="display:flex;"><span>        ImGui_ImplOpenGL3_RenderDrawData(ImGui<span style="color:#f92672">::</span>GetDrawData());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        SDL_GL_SwapWindow(window);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    ImGui_ImplOpenGL3_Shutdown();
</span></span><span style="display:flex;"><span>    ImGui_ImplSDL2_Shutdown();
</span></span><span style="display:flex;"><span>    ImGui<span style="color:#f92672">::</span>DestroyContext();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    SDL_GL_DeleteContext(gl_context);
</span></span><span style="display:flex;"><span>    SDL_DestroyWindow(window);
</span></span><span style="display:flex;"><span>    SDL_Quit();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<p>You will also need to tell Dear ImGui that you&rsquo;re using exactly glad. Add the following line to the top of <code>imgui/imgui_impl_opengl3.cpp</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">#</span>define <span style="color:#a6e22e">IMGUI_IMPL_OPENGL_LOADER_GLAD</span></span></span></code></pre></div>
<p>So it would be before these lines:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#66d9ef">#if</span> defined<span style="color:#f92672">(</span><span style="color:#a6e22e">IMGUI_IMPL_OPENGL_LOADER_GL3W</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">#</span>include <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">GL</span><span style="color:#f92672">/</span>gl3w<span style="color:#f92672">.</span>h<span style="color:#f92672">&gt;</span>    <span style="color:#75715e">// Needs to be initialized with gl3wInit() in user&#39;s code
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">#</span>elif defined<span style="color:#f92672">(</span><span style="color:#a6e22e">IMGUI_IMPL_OPENGL_LOADER_GLEW</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">#</span>include <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">GL</span><span style="color:#f92672">/</span>glew<span style="color:#f92672">.</span>h<span style="color:#f92672">&gt;</span>    <span style="color:#75715e">// Needs to be initialized with glewInit() in user&#39;s code
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">#</span>elif defined<span style="color:#f92672">(</span><span style="color:#a6e22e">IMGUI_IMPL_OPENGL_LOADER_GLAD</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">#</span>include <span style="color:#f92672">&lt;</span>glad<span style="color:#f92672">/</span>glad<span style="color:#f92672">.</span>h<span style="color:#f92672">&gt;</span>  <span style="color:#75715e">// Needs to be initialized with gladLoadGL() in user&#39;s code
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">#else</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">#</span>include <span style="color:#a6e22e">IMGUI_IMPL_OPENGL_LOADER_CUSTOM</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">#</span>endif</span></span></code></pre></div>
<h2 id="how-to-customize-the-style">How to customize the style</h2>
<p>Dear ImGui style is highly customizable. There are several pre-defined styles made by <a href="https://github.com/ocornut/imgui/issues/707">community</a>, and here&rsquo;s how you can create your own - replace <code>ImGui::StyleColorsDark();</code> with the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>ImGuiStyle <span style="color:#f92672">&amp;</span>style <span style="color:#f92672">=</span> ImGui<span style="color:#f92672">::</span>GetStyle();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>style.WindowPadding                  <span style="color:#f92672">=</span> ImVec2(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span>style.WindowRounding                 <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0f</span>;
</span></span><span style="display:flex;"><span>style.FramePadding                   <span style="color:#f92672">=</span> ImVec2(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>);
</span></span><span style="display:flex;"><span>style.ItemSpacing                    <span style="color:#f92672">=</span> ImVec2(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_Text]          <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">1.00f</span>, <span style="color:#ae81ff">1.00f</span>, <span style="color:#ae81ff">1.00f</span>, <span style="color:#ae81ff">1.00f</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_TextDisabled]  <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">0.50f</span>, <span style="color:#ae81ff">0.50f</span>, <span style="color:#ae81ff">0.50f</span>, <span style="color:#ae81ff">1.00f</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_WindowBg]      <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">0.06f</span>, <span style="color:#ae81ff">0.06f</span>, <span style="color:#ae81ff">0.06f</span>, <span style="color:#ae81ff">0.94f</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_Button]        <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">0.44f</span>, <span style="color:#ae81ff">0.44f</span>, <span style="color:#ae81ff">0.44f</span>, <span style="color:#ae81ff">0.40f</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_ButtonHovered] <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">0.46f</span>, <span style="color:#ae81ff">0.47f</span>, <span style="color:#ae81ff">0.48f</span>, <span style="color:#ae81ff">1.00f</span>);
</span></span><span style="display:flex;"><span>style.Colors[ImGuiCol_ButtonActive]  <span style="color:#f92672">=</span> ImVec4(<span style="color:#ae81ff">0.42f</span>, <span style="color:#ae81ff">0.42f</span>, <span style="color:#ae81ff">0.42f</span>, <span style="color:#ae81ff">1.00f</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span></code></pre></div>
<h2 id="how-to-display-a-list">How to display a list</h2>
<p>There is a <code>ListBox</code> widget for displaying lists. But making it to accept your lists takes some effort.</p>
<p>One thing is when you have an inline defined list like in standard demo:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> listbox_items[] <span style="color:#f92672">=</span> { <span style="color:#e6db74">&#34;Apple&#34;</span>, <span style="color:#e6db74">&#34;Banana&#34;</span>, <span style="color:#e6db74">&#34;Cherry&#34;</span>, <span style="color:#e6db74">&#34;Kiwi&#34;</span>, <span style="color:#e6db74">&#34;Mango&#34;</span>, <span style="color:#e6db74">&#34;Orange&#34;</span>, <span style="color:#e6db74">&#34;Pineapple&#34;</span> };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> listbox_item_current <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>ImGui<span style="color:#f92672">::</span>ListBox(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;Fruits&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&amp;</span>listbox_item_current,
</span></span><span style="display:flex;"><span>    listbox_items,
</span></span><span style="display:flex;"><span>    IM_ARRAYSIZE(listbox_items),
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>    );</span></span></code></pre></div>
<p>And another thing is when you have a list of some real things, like names of files in a folder. For that you&rsquo;ll need to define a special getter function, for example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">auto</span> vector_getter <span style="color:#f92672">=</span> [](<span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span>vec, <span style="color:#66d9ef">int</span> idx, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>out_text)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>vector <span style="color:#f92672">=</span> <span style="color:#f92672">*</span><span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> <span style="color:#f92672">*&gt;</span>(vec);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (idx <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> idx <span style="color:#f92672">&gt;=</span> <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(vector.size()))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> false;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">*</span>out_text <span style="color:#f92672">=</span> vector.at(idx).c_str();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> true;
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div>
<p>And then you can use it in <code>ListBox</code> constructor:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// list of files
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> files;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// there will be an example of reading files in folder a bit later
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> currentFile <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>ImGui<span style="color:#f92672">::</span>ListBox(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&amp;</span>currentFile,
</span></span><span style="display:flex;"><span>    vector_getter,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&amp;</span>files,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static_cast</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span>(files.size())
</span></span><span style="display:flex;"><span>    );</span></span></code></pre></div>
<h2 id="how-to-use-a-custom-font">How to use a custom font</h2>
<p>You can use a font from file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">// setup Dear ImGui context
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>IMGUI_CHECKVERSION();
</span></span><span style="display:flex;"><span>ImGui<span style="color:#f92672">::</span>CreateContext();
</span></span><span style="display:flex;"><span>ImGuiIO<span style="color:#f92672">&amp;</span> io <span style="color:#f92672">=</span> ImGui<span style="color:#f92672">::</span>GetIO(); (<span style="color:#66d9ef">void</span>)io;
</span></span><span style="display:flex; background-color:#3c3d38"><span>io.Fonts<span style="color:#f92672">-&gt;</span>AddFontFromFileTTF(<span style="color:#e6db74">&#34;verdana.ttf&#34;</span>, <span style="color:#ae81ff">18.0f</span>, NULL, NULL);</span></span></code></pre></div>
<p>Now all the text in your application will have Verdana font. If you want different labels to have different fonts, then it&rsquo;s a bit more complicated, and I suggest you to try it yourself.</p>
<p>Application will expect to find <code>verdana.ttf</code> in its folder, so here&rsquo;s how to copy it to build directory using CMake:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>add_custom_command(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">TARGET</span> <span style="color:#f92672">${</span>CMAKE_PROJECT_NAME<span style="color:#f92672">}</span> <span style="color:#e6db74">POST_BUILD</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">COMMAND</span> <span style="color:#f92672">${</span>CMAKE_COMMAND<span style="color:#f92672">}</span> <span style="color:#e6db74">-E</span> <span style="color:#e6db74">copy</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">${</span>CMAKE_SOURCE_DIR<span style="color:#f92672">}</span><span style="color:#e6db74">/verdana.ttf</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">${</span>CMAKE_CURRENT_BINARY_DIR<span style="color:#f92672">}</span><span style="color:#e6db74">/verdana.ttf</span>
</span></span><span style="display:flex;"><span>            )</span></span></code></pre></div>
<h1 id="building-from-visual-studio-code">Building from Visual Studio Code</h1>
<p>So I have these two extensions installed for CMake:</p>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=twxs.cmake">CMake</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=vector-of-bool.cmake-tools">CMake Tools</a></li>
</ul>
<p>Why two? Because one provides syntax highlighting and another provides API for calling CMake from <a href="https://code.visualstudio.com/docs/getstarted/userinterface#_command-palette">Command Palette</a>. Why there is no extension with both functionalities? Good fucking question.</p>
<p>If you want your build directory to be in the same folder as your project, then set this property in your <a href="https://code.visualstudio.com/docs/getstarted/settings#_settings-file-locations">settings.json</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;...&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cmake.buildDirectory&#34;</span>: <span style="color:#e6db74">&#34;${workspaceRoot}/build/${buildType}&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;...&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>And I would recommend to do so, because by default your build directory can go to some retarded place on Windows - in my case it was <code>C:\Users\vasya\CMakeBuilds\</code>.</p>
<p>I also have <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">C++ extension</a> installed, which provides certain things for C++ (<em>although for auto-completion I&rsquo;m using <a href="https://marketplace.visualstudio.com/items?itemName=mitaki28.vscode-clang">Clang Command Adapter</a></em>). For it to be aware of all your custom headers it needs to know where to find those. So, for example, if you get something like this:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/vscode-includes.png" alt="VS Code, includes warning">

<p>Then you need to add paths to those headers to your <a href="https://code.visualstudio.com/docs/languages/cpp#_specifying-additional-include-directories-for-better-symbol-support">c_cpp_properties.json</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;configurations&#34;</span>: [
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;Win32&#34;</span>,
</span></span><span style="display:flex; background-color:#3c3d38"><span>            <span style="color:#f92672">&#34;includePath&#34;</span>: [
</span></span><span style="display:flex; background-color:#3c3d38"><span>                <span style="color:#e6db74">&#34;${workspaceFolder}/**&#34;</span>,
</span></span><span style="display:flex; background-color:#3c3d38"><span>                <span style="color:#e6db74">&#34;e:/tools/vs/vs2019/VC/Tools/MSVC/14.21.27702/include&#34;</span>,
</span></span><span style="display:flex; background-color:#3c3d38"><span>                <span style="color:#e6db74">&#34;e:/Windows Kits/10/Include/10.0.17763.0/ucrt&#34;</span>,
</span></span><span style="display:flex; background-color:#3c3d38"><span>                <span style="color:#e6db74">&#34;e:/tools/sdl/include&#34;</span>
</span></span><span style="display:flex;"><span>            ],
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&#34;...&#34;</span></span></span></code></pre></div>
<p>If you won&rsquo;t do that, the project will still compile as this option is not for the actual building - it&rsquo;s just for <a href="https://code.visualstudio.com/docs/editor/intellisense">IntelliSense</a>, which is the source of those annoying warnings.</p>
<p>Now, to build a project you need a kit. Run these two commands (<code>Ctrl</code>/<code>Cmd</code> + <code>Shift</code> + <code>P</code>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#a6e22e">CMake</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Scan</span> <span style="color:#66d9ef">for</span> <span style="color:#66d9ef">Kits</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">CMake</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Select</span> <span style="color:#66d9ef">a</span> <span style="color:#66d9ef">Kit</span></span></span></code></pre></div>
<p>And select whatever is your main C++ kit.</p>
<p>In some cases you might also want to change the <a href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html#introduction">CMake generator</a> which produces files for the build system. By default that would most likely be <a href="https://ninja-build.org">Ninja</a> and in most cases it will work just fine, but if you&rsquo;ll need to swich to one of the generators provided by Visual Studio, then change the <code>cmake.generator</code> value to one of <a href="https://docs.microsoft.com/en-us/cpp/build/cmakesettings-reference#configurations">those</a>:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/vscode-cmake-generator.png" alt="Visual Studio Code, CMake generator">

<p>Now configure the project:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#a6e22e">CMake</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Configure</span></span></span></code></pre></div>
<p>And build it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#a6e22e">CMake</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Build</span></span></span></code></pre></div>
<p>By default it will build a <code>Debug</code> configuration. If you want to switch to <code>Release</code>, run this command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-scala" data-lang="scala"><span style="display:flex;"><span><span style="color:#a6e22e">CMake</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Set</span> <span style="color:#66d9ef">the</span> <span style="color:#66d9ef">current</span> <span style="color:#66d9ef">build</span> <span style="color:#66d9ef">variant</span></span></span></code></pre></div>
<p>And build the project.</p>
<p>Full source code of the application I used in the article is available <a href="https://github.com/retifrav/sdl-imgui-example">here</a>.</p>
<h2 id="its-cross-platform">It&rsquo;s cross-platform</h2>
<p>And it works on Windows:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/sdl-dear-imgui-windows.png" alt="SDL and Dear ImGui on Windows">

<p>and on Linux too:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/sdl-dear-imgui-linux.png" alt="SDL and Dear ImGui on Linux">

<h1 id="dealing-with-c-without-qt">Dealing with C++ without Qt</h1>
<p>That&rsquo;s just a bonus part.</p>
<p>To find yourself one-to-one with bare C++ after developing with Qt for years is one hell of an experience. All the simple and trivial things suddenly become complicated.</p>
<h2 id="concatenate-a-string">Concatenate a string</h2>
<p>In Qt you can form a string like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QString&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>QString someString <span style="color:#f92672">=</span> QString(<span style="color:#e6db74">&#34;ololo, %1 with %2 words (actually, it&#39;s more)&#34;</span>)
</span></span><span style="display:flex;"><span>        .arg(<span style="color:#e6db74">&#34;this is a string&#34;</span>)
</span></span><span style="display:flex;"><span>        .arg(<span style="color:#ae81ff">4</span>);</span></span></code></pre></div>
<p>There are several ways to do that in C++ without Qt, and I liked the one with <a href="https://en.cppreference.com/w/cpp/io/basic_ostringstream">ostringstream</a> the most:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sstream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>ostringstream someStream;
</span></span><span style="display:flex;"><span>someStream <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;ololo, &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;this is a string&#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; with &#34;</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; words (actually, it&#39;s more)&#34;</span>;
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>string someString <span style="color:#f92672">=</span> someStream.str();</span></span></code></pre></div>
<h2 id="get-a-string-with-current-date-and-time">Get a string with current date and time</h2>
<p>Here&rsquo;s how it is done in Qt:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QDateTime&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QString&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>QString currentTime <span style="color:#f92672">=</span> QDateTime<span style="color:#f92672">::</span>currentDateTime()
</span></span><span style="display:flex;"><span>    .toString(<span style="color:#e6db74">&#34;dd.MM.yyyy hh:mm:ss.zzz t&#34;</span>);</span></span></code></pre></div>
<p>But when it comes to &ldquo;naked&rdquo; C++, fucking hell, just look at this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iostream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;sstream&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;chrono&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ctime&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;iomanip&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// &#34;auto&#34; here hides monstrous &#34;std::chrono::time_point&lt;std::chrono::system_clock&gt;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> now <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>system_clock<span style="color:#f92672">::</span>now();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// you need to get milliseconds explicitly
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> milliseconds <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>duration_cast<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>milliseconds<span style="color:#f92672">&gt;</span>(
</span></span><span style="display:flex;"><span>    now.time_since_epoch()
</span></span><span style="display:flex;"><span>    ) <span style="color:#f92672">%</span> <span style="color:#ae81ff">1000</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// and that&#39;s a &#34;normal&#34; point of time with seconds
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">auto</span> timeNow <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>chrono<span style="color:#f92672">::</span>system_clock<span style="color:#f92672">::</span>to_time_t(now);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>ostringstream currentTimeStream;
</span></span><span style="display:flex;"><span>currentTimeStream <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>put_time(localtime(<span style="color:#f92672">&amp;</span>timeNow), <span style="color:#e6db74">&#34;%d.%m.%Y %H:%M:%S&#34;</span>)
</span></span><span style="display:flex;"><span>                  <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34;.&#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>setfill(<span style="color:#e6db74">&#39;0&#39;</span>) <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>setw(<span style="color:#ae81ff">3</span>) <span style="color:#f92672">&lt;&lt;</span> milliseconds.count()
</span></span><span style="display:flex;"><span>                  <span style="color:#f92672">&lt;&lt;</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">&lt;&lt;</span> std<span style="color:#f92672">::</span>put_time(localtime(<span style="color:#f92672">&amp;</span>timeNow), <span style="color:#e6db74">&#34;%z&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>string currentTime <span style="color:#f92672">=</span> currentTimeStream.str();</span></span></code></pre></div>
<p>All these lines just to get the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#ae81ff">01.06.2019</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span><span style="color:#ae81ff">21</span><span style="color:#f92672">:</span><span style="color:#ae81ff">52.387</span> <span style="color:#f92672">+</span><span style="color:#ae81ff">0200</span></span></span></code></pre></div>
<h2 id="list-all-the-files-in-application-directory">List all the files in application directory</h2>
<p>Qt variant is simple:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QCoreApplication&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QDir&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;QStringList&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>QDir <span style="color:#a6e22e">directory</span>(qApp<span style="color:#f92672">-&gt;</span>applicationDirPath());
</span></span><span style="display:flex;"><span>QStringList files <span style="color:#f92672">=</span> directory.entryList();</span></span></code></pre></div>
<p>And what about pure C++? Well, first of all, in C++ it works only from C++17 standard onwards, so (<em>given you have a complaint compiler</em>) you&rsquo;ll need to set it somewhere in the beginning of <code>CMakeLists.txt</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmake" data-lang="cmake"><span style="display:flex;"><span>set(<span style="color:#e6db74">CMAKE_CXX_STANDARD</span> <span style="color:#e6db74">17</span>)</span></span></code></pre></div>
<p>After that you&rsquo;ll be able to use <a href="https://en.cppreference.com/w/cpp/filesystem">filesystem</a> functionality in your code:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;filesystem&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> files;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">auto</span> currentPath <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>filesystem<span style="color:#f92672">::</span>current_path();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>entry : std<span style="color:#f92672">::</span>filesystem<span style="color:#f92672">::</span>directory_iterator(currentPath))
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    files.push_back(entry.path().filename().string().data());
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>Works fine on Windows 10 with MSVC:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span>$ systeminfo <span style="color:#f92672">|</span> findstr <span style="color:#e6db74">/B /</span>C:<span style="color:#e6db74">&#34;OS Name&#34;</span> <span style="color:#f92672">/</span>C:<span style="color:#e6db74">&#34;OS Version&#34;</span>
</span></span><span style="display:flex;"><span>OS Name:                   Microsoft Windows <span style="color:#ae81ff">10</span> Enterprise
</span></span><span style="display:flex;"><span>OS Version:                <span style="color:#ae81ff">10.0.17763</span> N<span style="color:#f92672">/</span>A Build <span style="color:#ae81ff">17763</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ cl<span style="color:#f92672">.</span>exe
</span></span><span style="display:flex;"><span>Microsoft (R) C<span style="color:#f92672">/</span>C<span style="color:#f92672">++</span> Optimizing Compiler Version <span style="color:#ae81ff">19.21.27702.2</span> <span style="color:#66d9ef">for</span> x64</span></span></code></pre></div>
<p>Here&rsquo;s a result - list of files in the application directory:</p>


    <img class="image-post" loading="lazy" src="/blog/2019/05/26/sdl-imgui/images/windows-cpp17-filesystem.png" alt="Dear ImGui list of files">

<h3 id="no-c17-filesystem-on-mac-os">No C++17 filesystem on Mac OS</h3>
<p>&hellip;But in case of Mac OS it won&rsquo;t compile:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">fatal</span> <span style="color:#f92672">error</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;filesystem&#39;</span> <span style="color:#f92672">file</span> <span style="color:#f92672">not</span> <span style="color:#f92672">found</span>
</span></span><span style="display:flex;"><span>#include <span style="color:#f92672">&lt;</span><span style="color:#f92672">filesystem</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#f92672">^~~~~~~~~~~~</span></span></span></code></pre></div>
<p>Because <a href="https://stackoverflow.com/questions/42633477/macos-clang-c17-filesystem-header-not-found">apparently</a> C++17 is not that well supported on the latest Mac OS:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span>$ sw_vers <span style="color:#f92672">-</span>productVersion
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10.14.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ xcodebuild <span style="color:#f92672">-</span>version
</span></span><span style="display:flex;"><span>Xcode <span style="color:#ae81ff">10.2.1</span>
</span></span><span style="display:flex;"><span>Build version <span style="color:#ae81ff">10E1001</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ clang <span style="color:#f92672">--</span>version
</span></span><span style="display:flex;"><span>Apple LLVM version <span style="color:#ae81ff">10.0.1</span> (clang<span style="color:#f92672">-</span><span style="color:#ae81ff">1001.0.46.4</span>)
</span></span><span style="display:flex;"><span>Target: x86_64<span style="color:#f92672">-</span>apple<span style="color:#f92672">-</span>darwin18<span style="color:#ae81ff">.6.0</span>
</span></span><span style="display:flex;"><span>Thread model: posix
</span></span><span style="display:flex;"><span>InstalledDir: <span style="color:#e6db74">/Applications/</span>Xcode<span style="color:#f92672">.</span>app<span style="color:#e6db74">/Contents/</span>Developer<span style="color:#e6db74">/Toolchains/</span>XcodeDefault<span style="color:#f92672">.</span>xctoolchain<span style="color:#e6db74">/usr/</span>bin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ gcc <span style="color:#f92672">--</span>version
</span></span><span style="display:flex;"><span>Configured with: <span style="color:#f92672">--</span>prefix<span style="color:#f92672">=</span><span style="color:#e6db74">/Applications/</span>Xcode<span style="color:#f92672">.</span>app<span style="color:#e6db74">/Contents/</span>Developer<span style="color:#e6db74">/usr --with-gxx-include-dir=/</span>Applications<span style="color:#e6db74">/Xcode.app/</span>Contents<span style="color:#e6db74">/Developer/</span>Platforms<span style="color:#e6db74">/MacOSX.platform/</span>Developer<span style="color:#e6db74">/SDKs/</span>MacOSX10<span style="color:#ae81ff">.14</span><span style="color:#f92672">.</span>sdk<span style="color:#e6db74">/usr/i</span>nclude<span style="color:#e6db74">/c++/</span><span style="color:#ae81ff">4.2.1</span>
</span></span><span style="display:flex;"><span>Apple LLVM version <span style="color:#ae81ff">10.0.1</span> (clang<span style="color:#f92672">-</span><span style="color:#ae81ff">1001.0.46.4</span>)
</span></span><span style="display:flex;"><span>Target: x86_64<span style="color:#f92672">-</span>apple<span style="color:#f92672">-</span>darwin18<span style="color:#ae81ff">.6.0</span>
</span></span><span style="display:flex;"><span>Thread model: posix
</span></span><span style="display:flex;"><span>InstalledDir: <span style="color:#e6db74">/Applications/</span>Xcode<span style="color:#f92672">.</span>app<span style="color:#e6db74">/Contents/</span>Developer<span style="color:#e6db74">/Toolchains/</span>XcodeDefault<span style="color:#f92672">.</span>xctoolchain<span style="color:#e6db74">/usr/</span>bin</span></span></code></pre></div>
<h3 id="no-c17-filesystem-on-linux">No C++17 filesystem on Linux</h3>
<p>&hellip;And there is no <code>&lt;filesystem&gt;</code> on Linux either! Of course, I can tell only for the Linux I have, but still:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-perl" data-lang="perl"><span style="display:flex;"><span>$ cat <span style="color:#e6db74">/proc/</span>version
</span></span><span style="display:flex;"><span>Linux version <span style="color:#ae81ff">4.15.0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">50</span><span style="color:#f92672">-</span>generic (buildd@lcy01<span style="color:#f92672">-</span>amd64<span style="color:#f92672">-</span><span style="color:#ae81ff">013</span>) (gcc version <span style="color:#ae81ff">7.3.0</span> (Ubuntu <span style="color:#ae81ff">7.3.0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">16</span>ubuntu3)) <span style="color:#75715e">#54-Ubuntu SMP Mon May 6 18:46:08 UTC 2019</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ lsb_release <span style="color:#f92672">-</span>a
</span></span><span style="display:flex;"><span>Distributor ID:    LinuxMint
</span></span><span style="display:flex;"><span>Description:    Linux Mint <span style="color:#ae81ff">19.1</span> Tessa
</span></span><span style="display:flex;"><span>Release:    <span style="color:#ae81ff">19.1</span>
</span></span><span style="display:flex;"><span>Codename:    tessa
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ gcc <span style="color:#f92672">--</span>version
</span></span><span style="display:flex;"><span>gcc (Ubuntu <span style="color:#ae81ff">7.4.0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>ubuntu1<span style="color:#f92672">~</span><span style="color:#ae81ff">18.04</span>) <span style="color:#ae81ff">7.4.0</span></span></span></code></pre></div>
<p>There are guides how to make it work, and like with Mac OS you&rsquo;ll need to add some specific headers paths, and in some cases include <code>&lt;experimental/filesystem&gt;</code> instead of <code>&lt;filesystem&gt;</code> and then replace all <code>std::filesystem</code> with <code>std::experimental::filesystem</code>, or perhaps even switch to some other C++ toolchain entirely, and so on, and so on&hellip; fuck these crutches, that&rsquo;s just too much in terms of cross-platform-ability.</p>
<p>So, it looks like Windows is the only platform where filesystem from C++17 &ldquo;just works&rdquo; out of the box at the moment. I fucking lol&rsquo;d.</p>
      </div>
    </article>
    <div><div id="tags">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line>
</svg>
          <a class="tag" href="https://retifrav.github.io/tags/cpp/">Cpp</a><a class="tag" href="https://retifrav.github.io/tags/cmake/">Cmake</a></div><hr class="comments-divider"/>
      <div id="comments">
      
          <script>
  var id =  21 ;

  if (id)
  {
    let url = "https://github.com/retifrav/retifrav.github.io/issues/".concat(id);
    let api_url = "https://api.github.com/repos/retifrav/retifrav.github.io/issues/".concat(id, "/comments");
    
    var commentsDiv = document.getElementById("comments");

    let xhr = new XMLHttpRequest();
    xhr.responseType = "json";
    xhr.open("GET", api_url);
    xhr.setRequestHeader("Accept", "application/vnd.github.v3.html+json");
    xhr.send();

    xhr.onload = function()
    {
      if (xhr.status != 200)
      {
        let errorText = document.createElement("p");
        errorText.innerHTML = "<i>Comments for this post yet are not opened yet (or you have GitHub scripts disabled).</i>";
        commentsDiv.appendChild(errorText);
      }
      else
      {
        let comments = xhr.response;

        let mainHeader = document.createElement("h2");
        mainHeader.innerHTML = "Comments: ".concat(comments.length);
        commentsDiv.appendChild(mainHeader);

        let issueLink = document.createElement("p");
        issueLink.innerHTML = "<i>You can leave a comment using this <a href='".concat(url, "'>GitHub issue</a>.</i>");
        commentsDiv.appendChild(issueLink);
        
        comments.forEach(function(comment)
        {
            let commentContent = document.createElement("div");
            commentContent.setAttribute('class', 'gh-comment')
            commentContent.innerHTML = "".concat(
                "<div class='gh-header'>",
                  "<img src='", comment.user.avatar_url, "' />",
                  "<div style='margin:auto 0;'>",
                    "<b><a class='gh-username' href='", comment.user.html_url, "'>", comment.user.login, "</a></b>",
                    " commented at <em>", new Date(comment.created_at), "</em>",
                  "</div>",
                "</div>",
                "<div class='gh-body'>",
                  comment.body_html,
                "</div>"
            );
            commentsDiv.appendChild(commentContent);
        });
      }
    };

    xhr.onerror = function()
    {
      let errorText = document.createElement("p");
      errorText.innerHTML = "<i>Some error loading comments.</i>";
      commentsDiv.appendChild(errorText);
    };
  }
</script>

      
      </div>
    </div>
  </div>

        <div id="footer">
          <div>
              2014 - 2024,
              <a href="/about/">retif</a>
          </div>
          <div><a href="/about/#licenses">CC BY-SA 4.0 / GPLv3</a></div>
        </div>
      </main>
      <div class="app-header">
        <div style="margin:0 0 20px;">
            <input id="search-query" placeholder="Search in titles and summaries" />
        </div>
        <div id="search-results" style="display:none;"></div>
        <div id="sidebars">
            <a id="avatar" href="/about"><img class="app-header-avatar" src="/images/avatar.png" /></a>
            <iframe src="https://github.com/sponsors/retifrav/button"
                height="35" style="border:0;"
                title="You can sponsor me">
            </iframe>
            
            <div class="sidebar-section">
              <h3>Feeds</h3>
              <a href="/index.xml" title="Subscribe to RSS"><img src="/images/rss.png" width="50px"></a>
              <a style="margin-left: 5px;" href="https://t.me/decovar" title="Telegram channel"><img src="/images/telegram.png" width="50px"></a>
            </div>
            <div id="telegramWidgetBlock" class="sidebar-section"></div>
            <div class="sidebar-section">
                <h3>Stuff</h3>
                <ul class="sidebar-list">
                    <li><a href="/stuff/kakoi-jvotne-vi-kysaiti/index.html">КАКОИ ЖВОТНЕ ВЫ КУСАИТИ?</a></li>
                </ul>
            </div>
            <div id="social-networks" class="sidebar-section">
              <h3>Social networks</h3>
              <div style="font-family:Courier New;">
                  Zuck: <i>Yeah so if you ever need info about anyone at Harvard</i><br/>
                  Zuck: <i>Just ask</i><br/>
                  Zuck: <i>I have over 4,000 emails, pictures, addresses, SNS</i><br/>
                  smb: <i>What? How'd you manage that one?</i><br/>
                  Zuck: <i>People just submitted it.</i><br/>
                  Zuck: <i>I don't know why.</i><br/>
                  Zuck: <i>They "trust me"</i><br/>
                  Zuck: <i>Dumb fucks</i>
              </div>
            </div>
            <div class="sidebar-section">
              <h3>Tags</h3>
              <ul style="list-style-type:none; padding:0; margin:0;">
                  
                  <li><a href="/tags/web">web (67)</a></li>
                  
                  <li><a href="/tags/fail">fail (40)</a></li>
                  
                  <li><a href="/tags/dotnet">dotnet (36)</a></li>
                  
                  <li><a href="/tags/qt">qt (35)</a></li>
                  
                  <li><a href="/tags/review">review (28)</a></li>
                  
                  <li><a href="/tags/linux">linux (27)</a></li>
                  
                  <li><a href="/tags/devops">devops (23)</a></li>
                  
                  <li><a href="/tags/macos">macos (23)</a></li>
                  
                  <li><a href="/tags/windows">windows (19)</a></li>
                  
                  <li><a href="/tags/mestuff">mestuff (17)</a></li>
                  
                  <li><a href="/tags/movies">movies (15)</a></li>
                  
                  <li><a href="/tags/tractor">tractor (15)</a></li>
                  
                  <li><a href="/tags/norway">norway (14)</a></li>
                  
                  <li><a href="/tags/cpp">cpp (12)</a></li>
                  
                  <li><a href="/tags/irl">irl (12)</a></li>
                  
                  <li><a href="/tags/python">python (12)</a></li>
                  
                  <li><a href="/tags/telegram">telegram (12)</a></li>
                  
                  <li><a href="/tags/cmake">cmake (11)</a></li>
                  
                  <li><a href="/tags/embedded">embedded (11)</a></li>
                  
                  <li><a href="/tags/soft">soft (10)</a></li>
                  
                  <li><a href="/tags/travel">travel (10)</a></li>
                  
                  <li><a href="/tags/applescript">applescript (9)</a></li>
                  
                  <li><a href="/tags/piracy">piracy (9)</a></li>
                  
                  <li><a href="/tags/octopress">octopress (8)</a></li>
                  
                  <li><a href="/tags/banks">banks (7)</a></li>
                  
                  <li><a href="/tags/games">games (7)</a></li>
                  
                  <li><a href="/tags/ios">ios (7)</a></li>
                  
                  <li><a href="/tags/apple">apple (6)</a></li>
                  
                  <li><a href="/tags/javascript">javascript (6)</a></li>
                  
                  <li><a href="/tags/photo">photo (6)</a></li>
                  
                  <li><a href="/tags/sql">sql (6)</a></li>
                  
                  <li><a href="/tags/russia">russia (5)</a></li>
                  
                  <li><a href="/tags/android">android (4)</a></li>
                  
                  <li><a href="/tags/hugo">hugo (4)</a></li>
                  
                  <li><a href="/tags/usa">usa (4)</a></li>
                  
                  <li><a href="/tags/wordpress">wordpress (4)</a></li>
                  
                  <li><a href="/tags/azure">azure (3)</a></li>
                  
                  <li><a href="/tags/tv">tv (3)</a></li>
                  
                  <li><a href="/tags/privacy">privacy (2)</a></li>
                  
                  <li><a href="/tags/steam-deck">steam-deck (2)</a></li>
                  
                  <li><a href="/tags/tvos">tvos (2)</a></li>
                  
                  <li><a href="/tags/unsolved">unsolved (2)</a></li>
                  
                  <li><a href="/tags/books">books (1)</a></li>
                  
                  <li><a href="/tags/ffmpeg">ffmpeg (1)</a></li>
                  
                  <li><a href="/tags/ldap">ldap (1)</a></li>
                  
                  <li><a href="/tags/music">music (1)</a></li>
                  
                  <li><a href="/tags/science">science (1)</a></li>
                  
                  <li><a href="/tags/vr">vr (1)</a></li>
                  
              </ul>
            </div>
        </div>
      </header>
    </div>

    <script src="/js/search.js"></script>

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-53340325-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", "UA-53340325-1");
    </script>

    <script>
        const telegramBlock = document.getElementById("telegramWidgetBlock");
        window.onload = () =>
        {
            const pinnedTelegramPosts = [306,319,323]
            const randomedPostID = pinnedTelegramPosts[
                Math.floor(Math.random() * pinnedTelegramPosts.length)
            ];
            const telegramWidgetScript = document.createElement("script");
            telegramWidgetScript.src = "https://telegram.org/js/telegram-widget.js?21";
            telegramWidgetScript.dataset["telegramPost"] = `decovar/${randomedPostID}`;
            telegramWidgetScript.dataset["color"] = "1E8448";
            telegramWidgetScript.dataset["width"] = "100%";
            telegramWidgetScript.dataset["userpic"] = "false";
            telegramBlock.appendChild(telegramWidgetScript);
        }
    </script>

    
    
  </body>
</html>
